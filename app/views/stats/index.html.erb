<h1>Stats</h1>

<div class="content">
    <div class="row">
        <div class="span3">
            <h2>What</h2>
            This is my basketball stats app to collect 
            real-time data at game and minimize data-entry
            post-game.
        </div>
        <div class="span3">
            <h2>How</h2>
            The goal is for multiple people to collect stats during a game.
        </div>
    </div>
</div>

<div class="content">
    <div class="row">
        <div class="span12">
            <table class="table table-striped table-bordered table-condensed">
                <thead>
              <tr>
                <th>Player</th>
                <th>Two Pt</th>
                <th></th>
                <th>Three made</th>
                <th>Three miss</th>
                <th>Ft made</th>
                <th>Ft miss</th>
                <th>Off reb</th>
                <th>Def reb</th>
                <th>Block</th>
                <th>Assist</th>
                <th>Steal</th>
                <th>Turnover</th>
                
                <th></th>
                
            </tr>
</thead><tbody>
            <% @stats.each do |stat| %>
            <tr>
                <td><%= stat.player_name %></td>
                <% @total_two = stat.two_made.to_i + stat.two_miss.to_i %>
                <% @ratio_two = [stat.two_miss, " / ", @total_two].join %>
                <td><%= @ratio_two %></td>
                <td><%= stat.two_miss %></td>
                <td><%= stat.three_made %></td>
                <td><%= stat.three_miss %></td>
                <td><%= stat.ft_made %></td>
                <td><%= stat.ft_miss %></td>
                <td><%= stat.off_reb %></td>
                <td><%= stat.def_reb %></td>
                <td><%= stat.block %></td>
                <td><%= stat.assist %></td>
                <td><%= stat.steal %></td>
                <td><%= stat.turnover %></td>
                
                <td>
                    <%= link_to 'Show', stat %>
                    <%= link_to 'Edit', edit_stat_path(stat) %>
                    <%= link_to 'Destroy', stat, method: :delete, data: { confirm: 'Are you sure?' } %>
                </td>
            </tr>
            <% end %>
        </tbody>
        
        <tfoot>
            <tr>
                <td>TOTALS</td>
                <td><%= Stat.sum(:two_made) %></td>
                <td><%= Stat.sum(:two_miss) %></td>
                <td><%= Stat.sum(:three_made) %></td>
                <td><%= Stat.sum(:three_miss) %></td>
                <td><%= Stat.sum(:ft_made) %></td>
                <td><%= Stat.sum(:ft_miss) %></td>
                <td><%= Stat.sum(:off_reb) %></td>
                <td><%= Stat.sum(:def_reb) %></td>
                <td><%= Stat.sum(:block) %></td>
                <td><%= Stat.sum(:assist) %></td>
                <td><%= Stat.sum(:steal) %></td>
                <td><%= Stat.sum(:turnover) %></td>
                <td></td>
        </tfoot>
        </table>

        <br />

        <%= link_to 'New Stat', new_stat_path, :class => "btn" %>

    </div>
</div>
</div>
